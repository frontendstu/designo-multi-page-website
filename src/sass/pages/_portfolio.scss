/* =============================================================================
 *
 * PORTFOLIO
 *
 * Version: 1.0.0 (06/02/2026)
 * Author: Stu Cowley
 *
 * -----------------------------------------------------------------------------
 *
 * The Portfolio prtial defines the styles specific to portfolio pages. This
 * project features three portfolio archive pages (web design, app design and
 * graphic design). Each page features a grid layout with a each portfolio item
 * being a card with a screenshot of the works along with the name and short
 * description of the project.
 *
 * Styles defined here are context-specific to Portfolio pages and should not
 * contain any global component styles.
 *
 * ========================================================================== */

@use '../abstracts/mixins' as mixin;

.portfolio {
    @include mixin.grid(
        $cols: repeat(1, minmax(0, 1fr)),
        $row-gap: var(--portfolio-row-gap),
        $col-gap: var(--portfolio-col-gap)
    );

    padding-block: var(--portfolio-py);

    /**
     * -------------------------------------------------------------------------
     * PORTFOLIO ITEM + CONTENT
     * -------------------------------------------------------------------------
     *
     * Defines the card layout for a portfolio entry, pairing a project preview
     * with a descriptive content block. The container establishes the card
     * boundary with rounded corners and clipped overflow, while the content
     * section controls padding, spacing and centered alignment for consistent
     * appearance.
     *
     * The portfolio item is portfolio-specific and should not be used as a
     * global card primitive.
     *
     * ====================================================================== */

    &-item {
        border-radius: var(--portfolio-item-radius);
        overflow: hidden;

        a {
            display: block;
            height: 100%;
            border-bottom: none;

            @include mixin.state-selector {
                .portfolio-item-content {
                    transition: var(--portfolio-item-transition);
                    background-color: var(--portfolio-item-content-bg-active);
                    color: var(--portfolio-item-content-clr-active);

                    h3 {
                        color: var(--portfolio-item-content-clr-active);
                    }
                }
            }
        }

        &-content {
            @include mixin.flex(
                $direction: column,
                $row-gap: var(--portfolio-item-content-row-gap)
            );

            padding: var(--portfolio-item-content-p);
            background-color: var(--portfolio-item-content-bg);
            text-align: var(--portfolio-item-content-text-align);

            h3 {
                color: var(--portfolio-item-heading-clr);
                font-size: var(--portfolio-item-heading-fs);
                letter-spacing: var(--portfolio-item-heading-tracking);
                text-transform: var(--portfolio-item-heading-case);
            }

            a {
                @include mixin.state-selector {
                    border-bottom: none;
                }
            }
        }
    }
}

/**
 * -----------------------------------------------------------------------------
 * PORTFOLIO NAVIGATION
 * -----------------------------------------------------------------------------
 *
 * Defines the styles for the Portfolio Navigation component, which presents
 * interactive category cards that link directly into the core portfolio views.
 *
 * Each card consists of a background image, a tinted overlay, and centered
 * content containing both a heading and a call-to-action link to the specific
 * portfolio category. The overlay tint strengthens visual hierarchy and shifts
 * into an active brand state on hover to reinforce interactivity.
 *
 * Layout is handled via CSS grid, enabling straightforward stacking on smaller
 * viewports while allowing for more complex grid compositions at larger
 * break-points. All sizing, spacing and typographic values are driven by CSS
 * custom properties to support a flexible design system and easy theming.
 *
 * The call-to-action link includes a decorative arrow rendered via
 * pseudo-element, keeping the markup clean and ensuring that decorative glyphs
 * do not interfere with the accessibility tree. Shared behaviours such as
 * hover and focus treatments are applied through utility mixins to maintain
 * consistency across components.
 *
 * ========================================================================== */

.portfolio-nav {
    @include mixin.grid(
        $col-gap: var(--portfolio-nav-col-gap),
        $row-gap: var(--portfolio-nav-row-gap)
    );

    padding-block: var(--portfolio-nav-py);

    &-item {
        position: relative;
        display: block;
        border-radius: var(--portfolio-nav-item-radius);
        overflow: hidden;
        text-align: var(--portfolio-nav-item-text-align);
        cursor: pointer;

        &-overlay {
            position: absolute;
            inset: 0;
            transition: var(--portfolio-nav-item-transition);
            background-color: var(--portfolio-nav-item-overlay-bg);
        }

        &:hover &-overlay {
            background-color: var(--portfolio-nav-item-overlay-bg-active);
        }

        &-content {
            position: absolute;
            inset: 0;
            display: grid;
            place-content: center;
            color: var(--portfolio-nav-item-clr);
            font-size: var(--portfolio-nav-item-fs);

            h3 {
                font-size: var(--portfolio-nav-item-heading-fs);
                text-transform: var(--portfolio-nav-item-heading-case);
                letter-spacing: var(--portfolio-nav-item-heading-tracking);
            }

            a {
                position: relative;
                margin-top: var(--portfolio-nav-item-link-mt);
                font-size: var(--portfolio-nav-item-link-fs);
                text-transform: var(--portfolio-nav-item-link-case);
                letter-spacing: var(--portfolio-nav-item-link-tracking);

                &:after {
                    @include mixin.size(
                        $width: var(--portfolio-nav-item-link-icn-w),
                        $height: var(--portfolio-nav-item-link-icn-h)
                    );

                    @include mixin.background(
                        $img: '/src/assets/images/shared/desktop/icon-right-arrow.svg',
                        $repeat: no-repeat,
                        $size: cover,
                        $position: center
                    );

                    content: '';
                    display: inline-block;
                    margin-left: var(--portfolio-nav-item-link-icn-ml);
                }

                @include mixin.state-selector {
                    border-bottom: none;
                }
            }
        }

        img {
            @include mixin.size($width: 100%, $height: 100%);

            object-fit: cover;
            display: block;
        }
    }
}

/**
 * -----------------------------------------------------------------------------
 * MEDIA QUERIES
 * -----------------------------------------------------------------------------
 *
 * Defines the responsive styles for 768px and 1280px. The responsive styles
 * here are used for structural changes as the layout is single column on the
 * base breakpoint, then it turns into a two column layout on viewports 768px+
 * and then the layout turns into three column on 1280px+.
 *
 * ========================================================================== */

/* ----- 768px */
@media(min-width: 48em) and (max-width: 79.98em) {
    .portfolio {
        &-item {
            @include mixin.flex;

            a {
                display: inherit;
            }

            &-img {
                max-width: 50%;
            }

            &-content {
                max-width: 50%;
                justify-content: center;
            }
        }
    }
}

/* ----- 1280px */
@media(min-width: 80em) {
    .portfolio {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }


    /**
     * Portfolio Navigation
     * ---------------------------------------------------------------------- */

    .portfolio-nav {
        grid-template-columns: repeat(2, minmax(0, 1fr));

        &-item {
            &:first-child {
                grid-row: span 2
            }
        }

        &-page {
            .portfolio-nav {
                &-item {
                    &:first-child {
                        grid-row: auto;
                    }
                }
            }
        }
    }
}
